# âœï¸ ä»ç‚¹åˆ°çº¿ï¼Œä»çº¿åˆ°ç”»ï¼šCanvas ç”»ç¬”å·¥å…·çš„å®ç°è‰ºæœ¯

> ğŸ’¡ ç”»ç¬”å·¥å…·æ˜¯åœ°å›¾è®¾è®¡ä¸­æœ€åŸºç¡€ä¹Ÿæœ€é‡è¦çš„å·¥å…·ä¹‹ä¸€ã€‚æœ¬æ–‡å°†å¸¦ä½ æ¢ç´¢ 51mazi é¡¹ç›®ä¸­ç”»ç¬”å·¥å…·çš„å®ç°æ€è·¯ï¼Œä»ç‚¹åæ ‡æ”¶é›†åˆ°å¹³æ»‘æ›²çº¿ç”Ÿæˆï¼Œä» perfect-freehand ç®—æ³•åˆ°å®æ—¶æ¸²æŸ“ä¼˜åŒ–ï¼Œæ­ç§˜å¦‚ä½•æ‰“é€ ä¸€ä¸ªæµç•…è‡ªç„¶çš„ç”»ç¬”ä½“éªŒã€‚

## ğŸ“‹ ç›®å½•
- [åŠŸèƒ½ç®€ä»‹](#åŠŸèƒ½ç®€ä»‹)
- [æ ¸å¿ƒç®—æ³•ï¼šperfect-freehand](#æ ¸å¿ƒç®—æ³•perfect-freehand)
- [æŠ€æœ¯æŒ‘æˆ˜](#æŠ€æœ¯æŒ‘æˆ˜)
- [å®ç°äº®ç‚¹](#å®ç°äº®ç‚¹)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [æ€»ç»“](#æ€»ç»“)

## ğŸ¯ åŠŸèƒ½ç®€ä»‹

ç”»ç¬”å·¥å…·æ˜¯åœ°å›¾è®¾è®¡å·¥å…·ä¸­çš„"æ‰‹ç»˜ç¥å™¨"ï¼Œè®©ç”¨æˆ·å¯ä»¥åƒåœ¨çº¸ä¸Šç”»ç”»ä¸€æ ·è‡ªç”±ç»˜åˆ¶ã€‚åœ¨ 51mazi çš„åœ°å›¾è®¾è®¡å·¥å…·ä¸­ï¼Œç”»ç¬”å·¥å…·ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„çº¿æ¡ç»˜åˆ¶åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ä¸ªé›†æˆäº†å¹³æ»‘ç®—æ³•ã€å®æ—¶æ¸²æŸ“ã€å‚æ•°æ§åˆ¶ç­‰å¤šé¡¹æŠ€æœ¯çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

### âœï¸ åŠŸèƒ½ç‰¹æ€§

- âœ… **å¹³æ»‘ç»˜åˆ¶**: åŸºäº perfect-freehand ç®—æ³•ï¼Œç”Ÿæˆè‡ªç„¶æµç•…çš„ç”»ç¬”æ•ˆæœ
- âœ… **å®æ—¶é¢„è§ˆ**: ç»˜åˆ¶è¿‡ç¨‹ä¸­å®æ—¶æ˜¾ç¤ºç”»ç¬”è½¨è¿¹ï¼Œä½“éªŒæµç•…
- âœ… **å‚æ•°æ§åˆ¶**: æ”¯æŒé¢œè‰²ã€å¤§å°ã€é€æ˜åº¦ç­‰å‚æ•°è‡ªå®šä¹‰
- âœ… **å‹åŠ›æ¨¡æ‹Ÿ**: æ¨¡æ‹ŸçœŸå®ç”»ç¬”çš„å‹åŠ›å˜åŒ–ï¼Œè®©çº¿æ¡æ›´è‡ªç„¶
- âœ… **å®Œæ•´å†å²è®°å½•**: æ”¯æŒæ’¤é”€/é‡åšï¼Œæ“ä½œå¯è¿½æº¯

### ğŸ–¼ï¸ ä½¿ç”¨åœºæ™¯

åœ¨åœ°å›¾è®¾è®¡ä¸­ï¼Œç”»ç¬”å·¥å…·å¸¸ç”¨äºï¼š
- ğŸ—ºï¸ ç»˜åˆ¶åœ°å½¢è½®å»“ï¼ˆå±±è„‰ã€æ²³æµã€æµ·å²¸çº¿ç­‰ï¼‰
- âœï¸ æ‰‹ç»˜æ ‡è®°å’Œæ³¨é‡Š
- ğŸ¨ è‡ªç”±åˆ›ä½œå’Œè‰å›¾ç»˜åˆ¶

![åœ°å›¾è®¾è®¡](https://raw.githubusercontent.com/xiaoshengxianjun/51mazi/main/static/maps.png)

*åœ°å›¾è®¾è®¡å·¥å…·ä¸­çš„ç”»ç¬”å·¥å…· - æµç•…è‡ªç„¶çš„ç»˜åˆ¶ä½“éªŒ*

## ğŸ”¬ æ ¸å¿ƒç®—æ³•ï¼šperfect-freehand

### ç®—æ³•åŸç†

perfect-freehand æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºç”Ÿæˆå¹³æ»‘æ‰‹ç»˜çº¿æ¡çš„ç®—æ³•åº“ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

1. **æ”¶é›†ç‚¹åæ ‡**: è®°å½•é¼ æ ‡ç§»åŠ¨è¿‡ç¨‹ä¸­çš„æ‰€æœ‰ç‚¹
2. **å¹³æ»‘å¤„ç†**: å¯¹ç‚¹åºåˆ—è¿›è¡Œå¹³æ»‘å¤„ç†ï¼Œæ¶ˆé™¤æŠ–åŠ¨
3. **å‹åŠ›æ¨¡æ‹Ÿ**: æ ¹æ®é€Ÿåº¦å˜åŒ–æ¨¡æ‹Ÿå‹åŠ›ï¼Œè®©çº¿æ¡æœ‰ç²—ç»†å˜åŒ–
4. **ç”Ÿæˆè·¯å¾„**: å°†å¤„ç†åçš„ç‚¹è½¬æ¢ä¸ºå¹³æ»‘çš„è·¯å¾„
5. **å¡«å……ç»˜åˆ¶**: ä½¿ç”¨å¡«å……è€Œéæè¾¹ï¼Œç”Ÿæˆæ›´è‡ªç„¶çš„ç”»ç¬”æ•ˆæœ

### ä¸ºä»€ä¹ˆé€‰æ‹© perfect-freehandï¼Ÿ

- ğŸ¨ **è‡ªç„¶æ•ˆæœ**: ç”Ÿæˆçš„çº¿æ¡æ›´æ¥è¿‘çœŸå®æ‰‹ç»˜æ•ˆæœ
- âš¡ **æ€§èƒ½ä¼˜ç§€**: ç®—æ³•é«˜æ•ˆï¼Œé€‚åˆå®æ—¶ç»˜åˆ¶
- ğŸ”§ **æ˜“äºé›†æˆ**: API ç®€æ´ï¼Œæ˜“äºä½¿ç”¨å’Œå®šåˆ¶
- ğŸ“¦ **è½»é‡çº§**: åº“ä½“ç§¯å°ï¼Œä¸å½±å“åº”ç”¨æ€§èƒ½

### ç®—æ³•ä½¿ç”¨

```javascript
import { getStroke } from 'perfect-freehand'

// é…ç½®å‚æ•°
const options = {
  size: strokeWidth,        // ç”»ç¬”å¤§å°
  thinning: 0.6,            // å‹åŠ›å˜åŒ–å¼ºåº¦
  smoothing: 0.5,           // å¹³æ»‘åº¦
  streamline: 0.5,          // æµçº¿åŒ–ç¨‹åº¦
  easing: (t) => Math.sin((t * Math.PI) / 2),  // ç¼“åŠ¨å‡½æ•°
  simulatePressure: true    // æ¨¡æ‹Ÿå‹åŠ›
}

// å°†ç‚¹æ•°ç»„è½¬æ¢ä¸ºè·¯å¾„
const inputPoints = points.map(p => [p.x, p.y])
const stroke = getStroke(inputPoints, options)

// ç»˜åˆ¶è·¯å¾„
ctx.beginPath()
ctx.moveTo(stroke[0][0], stroke[0][1])
for (let i = 1; i < stroke.length; i++) {
  ctx.lineTo(stroke[i][0], stroke[i][1])
}
ctx.closePath()
ctx.fill()
```

**å‚æ•°è¯´æ˜**:
- `size`: ç”»ç¬”çš„åŸºç¡€å¤§å°
- `thinning`: æ§åˆ¶çº¿æ¡ç²—ç»†å˜åŒ–ï¼Œå€¼è¶Šå¤§å˜åŒ–è¶Šæ˜æ˜¾
- `smoothing`: æ§åˆ¶å¹³æ»‘ç¨‹åº¦ï¼Œå€¼è¶Šå¤§çº¿æ¡è¶Šå¹³æ»‘
- `streamline`: æ§åˆ¶æµçº¿åŒ–ç¨‹åº¦ï¼Œè®©çº¿æ¡æ›´æµç•…
- `simulatePressure`: æ˜¯å¦æ¨¡æ‹Ÿå‹åŠ›ï¼Œæ ¹æ®é€Ÿåº¦å˜åŒ–è°ƒæ•´ç²—ç»†

> ğŸ’¡ **å®Œæ•´ç®—æ³•å®ç°è¯·æŸ¥çœ‹**: [src/renderer/src/composables/map/useRender.js](https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/useRender.js)

## ğŸ¯ æŠ€æœ¯æŒ‘æˆ˜

### æŒ‘æˆ˜ 1: ç‚¹åæ ‡çš„æ”¶é›†ä¸å­˜å‚¨

åœ¨ç»˜åˆ¶è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å®æ—¶æ”¶é›†é¼ æ ‡ç§»åŠ¨çš„ç‚¹åæ ‡ï¼š

```javascript
function onMouseDown(pos) {
  // å¼€å§‹æ–°çš„ç”»ç¬”è·¯å¾„
  elements.currentFreeDrawPath.value = {
    type: 'freedraw',
    points: [{ x: pos.x, y: pos.y }],  // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªç‚¹
    color: color.value,
    strokeWidth: size.value,
    opacity: opacity.value,
    id: Date.now().toString()
  }
}

function onMouseMove(pos) {
  // æ·»åŠ ç‚¹åˆ°å½“å‰è·¯å¾„
  elements.currentFreeDrawPath.value.points.push({ x: pos.x, y: pos.y })
  // å®æ—¶æ¸²æŸ“
  renderCanvas(false)
}
```

**å…³é”®ç‚¹**:
- âœ… ä½¿ç”¨æ•°ç»„å­˜å‚¨ç‚¹åºåˆ—ï¼Œä¿æŒé¡ºåº
- âœ… å®æ—¶æ·»åŠ ç‚¹ï¼Œç¡®ä¿è½¨è¿¹å®Œæ•´
- âœ… æ¯æ¬¡ç§»åŠ¨éƒ½è§¦å‘æ¸²æŸ“ï¼Œä¿è¯æµç•…æ€§

### æŒ‘æˆ˜ 2: å®æ—¶æ¸²æŸ“çš„æ€§èƒ½

ç»˜åˆ¶è¿‡ç¨‹ä¸­éœ€è¦é¢‘ç¹æ¸²æŸ“ï¼Œæ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ï¼š

```javascript
function onMouseMove(pos) {
  if (elements.currentFreeDrawPath.value) {
    elements.currentFreeDrawPath.value.points.push({ x: pos.x, y: pos.y })
    // ä¸æ›´æ–°è¾¹ç•Œï¼Œé¿å…é¢‘ç¹è®¡ç®—å¯¼è‡´æ€§èƒ½é—®é¢˜
    renderCanvas(false)
  }
}

function onMouseUp() {
  // ç»˜åˆ¶å®Œæˆæ—¶æ‰æ›´æ–°è¾¹ç•Œ
  renderCanvas(true)
}
```

**ä¼˜åŒ–ç­–ç•¥**:
- âš¡ ç»˜åˆ¶è¿‡ç¨‹ä¸­ä¸æ›´æ–°è¾¹ç•Œï¼ˆ`renderCanvas(false)`ï¼‰
- âš¡ åªåœ¨ç»˜åˆ¶å®Œæˆæ—¶æ›´æ–°è¾¹ç•Œï¼ˆ`renderCanvas(true)`ï¼‰
- âš¡ å‡å°‘ä¸å¿…è¦çš„è®¡ç®—ï¼Œæå‡æ¸²æŸ“æ€§èƒ½

### æŒ‘æˆ˜ 3: è·¯å¾„çš„å¹³æ»‘å¤„ç†

åŸå§‹çš„ç‚¹åºåˆ—å¯èƒ½å­˜åœ¨æŠ–åŠ¨ï¼Œéœ€è¦é€šè¿‡ç®—æ³•å¹³æ»‘å¤„ç†ï¼š

```javascript
const options = {
  smoothing: 0.5,      // å¹³æ»‘åº¦ï¼šå€¼è¶Šå¤§è¶Šå¹³æ»‘
  streamline: 0.5,     // æµçº¿åŒ–ï¼šè®©çº¿æ¡æ›´æµç•…
  thinning: 0.6        // å‹åŠ›å˜åŒ–ï¼šæ¨¡æ‹ŸçœŸå®ç”»ç¬”
}
```

**æ•ˆæœå¯¹æ¯”**:
- âŒ **æœªå¤„ç†**: çº¿æ¡é”¯é½¿æ˜æ˜¾ï¼Œä¸å¤Ÿå¹³æ»‘
- âœ… **å¤„ç†å**: çº¿æ¡æµç•…è‡ªç„¶ï¼Œæ¥è¿‘æ‰‹ç»˜æ•ˆæœ

### æŒ‘æˆ˜ 4: é€æ˜åº¦çš„å¤„ç†

æ”¯æŒé€æ˜åº¦æ§åˆ¶ï¼Œè®©ç”»ç¬”æ•ˆæœæ›´ä¸°å¯Œï¼š

```javascript
ctx.save()
ctx.globalAlpha = (element.opacity || 100) / 100
ctx.fillStyle = element.color
// ç»˜åˆ¶è·¯å¾„
ctx.fill()
ctx.restore()
```

## âœ¨ å®ç°äº®ç‚¹

### 1. æ¨¡å—åŒ–çš„ Composables æ¶æ„

ç”»ç¬”å·¥å…·é‡‡ç”¨ Composables æ¶æ„ï¼Œå®ç°äº†é«˜å†…èšã€ä½è€¦åˆï¼š

```javascript
export function usePencilTool({
  canvasRef,
  elements,
  history,
  renderCanvas,
  color,
  size,
  opacity
}) {
  const drawingActive = ref(false)
  
  function onMouseDown(pos) { /* ... */ }
  function onMouseMove(pos) { /* ... */ }
  function onMouseUp() { /* ... */ }
  
  return {
    drawingActive,
    onMouseDown,
    onMouseMove,
    onMouseUp
  }
}
```

**ä¼˜åŠ¿**:
- âœ… ä»£ç ç»„ç»‡æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- âœ… åŠŸèƒ½ç‹¬ç«‹ï¼Œä¾¿äºæµ‹è¯•
- âœ… å¯å¤ç”¨æ€§å¼ºï¼Œæ˜“äºæ‰©å±•

### 2. çŠ¶æ€ç®¡ç†

ä½¿ç”¨å“åº”å¼çŠ¶æ€ç®¡ç†ç»˜åˆ¶çŠ¶æ€ï¼š

```javascript
const drawingActive = ref(false)  // æ˜¯å¦æ­£åœ¨ç»˜åˆ¶
const lastPoint = ref({ x: 0, y: 0 })  // ä¸Šä¸€ä¸ªç‚¹

// åœ¨ç»˜åˆ¶è¿‡ç¨‹ä¸­æ›´æ–°çŠ¶æ€
function onMouseDown(pos) {
  drawingActive.value = true
  lastPoint.value = { ...pos }
}
```

### 3. å†å²è®°å½•é›†æˆ

å®Œæ•´çš„æ’¤é”€/é‡åšæ”¯æŒï¼š

```javascript
function onMouseDown(pos) {
  history.value.saveState()  // å¼€å§‹ç»˜åˆ¶å‰ä¿å­˜çŠ¶æ€
}

function onMouseUp() {
  if (elements.currentFreeDrawPath.value.points.length > 1) {
    elements.freeDrawElements.value.push({ ...elements.currentFreeDrawPath.value })
    history.value.saveState()  // ç»˜åˆ¶å®Œæˆåä¿å­˜çŠ¶æ€
  }
}
```

### 4. è·¯å¾„æ•°æ®ç»“æ„

æ¸…æ™°çš„æ•°æ®ç»“æ„è®¾è®¡ï¼š

```javascript
{
  type: 'freedraw',
  points: [
    { x: 100, y: 200 },
    { x: 105, y: 205 },
    // ... æ›´å¤šç‚¹
  ],
  color: '#222222',
  strokeWidth: 5,
  opacity: 100,
  id: '1234567890'
}
```

**è®¾è®¡è€ƒè™‘**:
- âœ… ä½¿ç”¨ç‚¹æ•°ç»„å­˜å‚¨è·¯å¾„ï¼Œä¾¿äºåºåˆ—åŒ–
- âœ… åŒ…å«æ‰€æœ‰å¿…è¦å±æ€§ï¼Œæ”¯æŒå®Œæ•´æ¢å¤
- âœ… å”¯ä¸€ ID ä¾¿äºå…ƒç´ ç®¡ç†

> ğŸ’¡ **å®Œæ•´å®ç°ä»£ç è¯·æŸ¥çœ‹**: [src/renderer/src/composables/map/tools/usePencilTool.js](https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/tools/usePencilTool.js)

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. å»¶è¿Ÿè¾¹ç•Œæ›´æ–°

ç»˜åˆ¶è¿‡ç¨‹ä¸­ä¸æ›´æ–°è¾¹ç•Œï¼Œå‡å°‘è®¡ç®—å¼€é”€ï¼š

```javascript
// ç»˜åˆ¶è¿‡ç¨‹ä¸­ï¼šä¸æ›´æ–°è¾¹ç•Œ
renderCanvas(false)

// ç»˜åˆ¶å®Œæˆï¼šæ›´æ–°è¾¹ç•Œ
renderCanvas(true)
```

**ä¼˜åŒ–æ•ˆæœ**:
- âš¡ å‡å°‘è¾¹ç•Œè®¡ç®—æ¬¡æ•°
- âš¡ æå‡ç»˜åˆ¶æµç•…åº¦
- âš¡ é™ä½ CPU å ç”¨

### 2. ç‚¹æ•°ç»„ä¼˜åŒ–

åˆç†æ§åˆ¶ç‚¹æ•°ç»„å¤§å°ï¼Œé¿å…å†…å­˜å ç”¨è¿‡å¤§ï¼š

```javascript
// åªåœ¨ç»˜åˆ¶å®Œæˆæ—¶æ·»åŠ åˆ°å…ƒç´ æ•°ç»„
if (elements.currentFreeDrawPath.value.points.length > 1) {
  elements.freeDrawElements.value.push({ ...elements.currentFreeDrawPath.value })
}
```

### 3. æ¸²æŸ“ä¼˜åŒ–

ä½¿ç”¨ Canvas çš„é«˜æ•ˆç»˜åˆ¶ APIï¼š

```javascript
// ä½¿ç”¨ fill è€Œé strokeï¼Œæ•ˆæœæ›´è‡ªç„¶
ctx.fillStyle = element.color
ctx.fill()
```

### 4. çŠ¶æ€æ¸…ç†

åŠæ—¶æ¸…ç†ä¸´æ—¶çŠ¶æ€ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼š

```javascript
function onMouseUp() {
  // å®Œæˆç»˜åˆ¶åæ¸…ç†ä¸´æ—¶è·¯å¾„
  elements.currentFreeDrawPath.value = null
  drawingActive.value = false
}
```

## ğŸ“Š å®ç°æµç¨‹å›¾

```
ç”¨æˆ·æŒ‰ä¸‹é¼ æ ‡
    â†“
åˆ›å»ºæ–°çš„ç”»ç¬”è·¯å¾„
    â”œâ”€ åˆå§‹åŒ–ç‚¹æ•°ç»„
    â”œâ”€ è®¾ç½®é¢œè‰²ã€å¤§å°ã€é€æ˜åº¦
    â””â”€ ä¿å­˜å†å²çŠ¶æ€
    â†“
é¼ æ ‡ç§»åŠ¨
    â”œâ”€ æ·»åŠ ç‚¹åˆ°è·¯å¾„
    â””â”€ å®æ—¶æ¸²æŸ“ï¼ˆä¸æ›´æ–°è¾¹ç•Œï¼‰
    â†“
ç»§ç»­ç§»åŠ¨...
    â†“
ç”¨æˆ·é‡Šæ”¾é¼ æ ‡
    â”œâ”€ æ£€æŸ¥è·¯å¾„æœ‰æ•ˆæ€§ï¼ˆè‡³å°‘2ä¸ªç‚¹ï¼‰
    â”œâ”€ æ·»åŠ åˆ°å…ƒç´ æ•°ç»„
    â”œâ”€ æ›´æ–°è¾¹ç•Œ
    â””â”€ ä¿å­˜å†å²çŠ¶æ€
    â†“
å®Œæˆç»˜åˆ¶
```

## ğŸ“ æ€»ç»“

ç”»ç¬”å·¥å…·è™½ç„¶çœ‹ä¼¼ç®€å•ï¼Œä½†å®ç°è¿‡ç¨‹ä¸­æ¶‰åŠäº†å¤šä¸ªæŠ€æœ¯é¢†åŸŸï¼š

- ğŸ¨ **ç®—æ³•åº”ç”¨**: perfect-freehand ç®—æ³•çš„é›†æˆå’Œä½¿ç”¨
- ğŸ“Š **çŠ¶æ€ç®¡ç†**: å“åº”å¼çŠ¶æ€çš„ç®¡ç†å’ŒåŒæ­¥
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: å®æ—¶æ¸²æŸ“çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
- ğŸ”„ **å†å²è®°å½•**: å®Œæ•´çš„æ’¤é”€/é‡åšæ”¯æŒ
- ğŸ—ï¸ **æ¶æ„è®¾è®¡**: æ¨¡å—åŒ–çš„ Composables æ¶æ„

é€šè¿‡æ¨¡å—åŒ–çš„ Composables æ¶æ„ï¼Œæˆ‘ä»¬å°†ç”»ç¬”å·¥å…·å°è£…ä¸ºç‹¬ç«‹çš„ `usePencilTool`ï¼Œå®ç°äº†é«˜å†…èšã€ä½è€¦åˆçš„ä»£ç ç»“æ„ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚

### ğŸš€ ä¸‹ä¸€æ­¥æ¢ç´¢

å¦‚æœä½ æƒ³æ·±å…¥äº†è§£ï¼š
- ğŸ“– **å®Œæ•´ä»£ç å®ç°**: æŸ¥çœ‹ [usePencilTool.js](https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/tools/usePencilTool.js)
- ğŸ¨ **æ¸²æŸ“ç³»ç»Ÿ**: æŸ¥çœ‹ [useRender.js](https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/useRender.js)
- ğŸ—ºï¸ **åœ°å›¾è®¾è®¡å·¥å…·**: æŸ¥çœ‹ [MapDesign.vue](https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/views/MapDesign.vue)
- ğŸ“š **perfect-freehand**: æŸ¥çœ‹ [perfect-freehand æ–‡æ¡£](https://github.com/steveruizok/perfect-freehand)

---

### ğŸ“š ç›¸å…³é“¾æ¥

- **é¡¹ç›®åœ°å€**: [GitHub - 51mazi](https://github.com/xiaoshengxianjun/51mazi)ï¼Œç»™ä¸ª Star å“¦~
- **ç”»ç¬”å·¥å…·ä»£ç **: [src/renderer/src/composables/map/tools/usePencilTool.js](https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/tools/usePencilTool.js)
- **æ¸²æŸ“å‡½æ•°**: [src/renderer/src/composables/map/useRender.js](https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/useRender.js)
- **perfect-freehand åº“**: [perfect-freehand](https://github.com/steveruizok/perfect-freehand)
- **æŠ€æœ¯æ ˆ**: Vue 3 + Canvas + perfect-freehand + Composables

### ğŸ·ï¸ æ ‡ç­¾

`#Canvas` `#perfect-freehand` `#ç”»ç¬”å·¥å…·` `#å¹³æ»‘ç»˜åˆ¶` `#å®æ—¶æ¸²æŸ“` `#Vue3` `#å‰ç«¯å¼€å‘` `#æ€§èƒ½ä¼˜åŒ–` `#Composables`

---

> ğŸ’¡ **å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ æ”¯æŒä¸€ä¸‹ï¼**
>
> ğŸ’¡ **æƒ³æ·±å…¥äº†è§£å®ç°ç»†èŠ‚ï¼Ÿæ¬¢è¿æŸ¥çœ‹ GitHub ä¸Šå¯¹åº”çš„ä»£ç æ–‡ä»¶ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰è¯¦ç»†çš„æ³¨é‡Šè¯´æ˜ï¼**

